<mxGraphModel dx="0" dy="0" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" background="none" math="0" shadow="0">
  <root>
    <mxCell id="0" />
    <mxCell id="1" parent="0" />
    <mxCell id="node4" parent="1" vertex="1" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;DBController&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt; __construct(host, user, password, dbname): &lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt; mariadbClient: &lt;br/&gt; password: &lt;br/&gt; dbname: &lt;br/&gt; connectionAttempts: &lt;br/&gt; timezone: &lt;br/&gt; host: &lt;br/&gt; nextAttemptDelay: &lt;br/&gt; user: &lt;br/&gt; maxConnectionAttempts: &lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt; loadMeasurements(device): &lt;br/&gt; resetDevicesIsConnected(): &lt;br/&gt; importSQLFileToDatabase(filepath): &lt;br/&gt; loadEvents(): &lt;br/&gt; initializingDatabaseIfNecessary(): &lt;br/&gt; setLoginState(id, successfullyLoggedOut): &lt;br/&gt; insertTrackingData(device, data): &lt;br/&gt; validateDeviceId(id): &lt;br/&gt; insertEvents(deviceId, eventList): &lt;br/&gt; getDevice(id): &lt;br/&gt; setDeviceIsConnected(id, isConnected): &lt;br/&gt; insertEvent(deviceId, event): &lt;br/&gt; removeObsoleteData(timeInDays): &lt;br/&gt; validateKey(apikey): &lt;br/&gt; buildDevice(initializationData): &lt;br/&gt; updateDeviceSettings(id, newSettings): &lt;br/&gt; setLastConnectionTime(id, time): &lt;br/&gt; validatePin(pin, requestingDevice): &lt;br/&gt; connect(): &lt;br/&gt; getDeviceIsConnected(id): &lt;br/&gt; removeDevice(id): &lt;br/&gt; __destruct(): &lt;br/&gt; getDevices(): &lt;br/&gt; getTimeNow(): &lt;br/&gt; tryToConnect(): &lt;br/&gt; dbQuery(sql): &lt;br/&gt; dbRequest(sql): &lt;br/&gt; checkIfRequiredDatabaseTableIsMissing(): &lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;">
      <mxGeometry x="-93" y="-15" width="261" height="870" as="geometry" />
    </mxCell>
    <mxCell id="node5" parent="1" vertex="1" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;Device&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt; __construct(deviceData): &lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt; settings: &lt;br/&gt; eventList: &lt;br/&gt; isConnected: &lt;br/&gt; isObsolete: &lt;br/&gt; employee: &lt;br/&gt; databaseTableName: &lt;br/&gt; streamerResourceId: &lt;br/&gt; Database: &lt;br/&gt; isLoggedIn: &lt;br/&gt; clientList: &lt;br/&gt; id: &lt;br/&gt; measurements: &lt;br/&gt; timezone: &lt;br/&gt; hasIdleDetected: &lt;br/&gt; ipAddress: &lt;br/&gt; idlingStartedTime: &lt;br/&gt; timeOfLastConnection: &lt;br/&gt; eventState: &lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt; isStreamer(resourceId): &lt;br/&gt; send(message): &lt;br/&gt; connectionClosed(): &lt;br/&gt; loadMeasurements(): &lt;br/&gt; isSubscriber(resourceId): &lt;br/&gt; sendToStreamingDevice(message): &lt;br/&gt; monitoringTimeouts(): &lt;br/&gt; processTrackingData(data): &lt;br/&gt; updateSettings(newSettings): &lt;br/&gt; logout(): &lt;br/&gt; login(resourceId): &lt;br/&gt; hasConnectionTimeoutDetected(): &lt;br/&gt; hasIdleDetected(acceleration, rotation): &lt;br/&gt; getElapsedTimeInSeconds(timeToCompareWith): &lt;br/&gt; hasIdleTimeoutDetected(): &lt;br/&gt; isClientAlive(): &lt;br/&gt; addToEventList(eventContainer): &lt;br/&gt; getTimeNow(): &lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;">
      <mxGeometry x="213" y="-15" width="292" height="848" as="geometry" />
    </mxCell>
    <mxCell id="node0" parent="1" vertex="1" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;EventStates&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt; batteryEmptyIsTriggered: &lt;br/&gt; rotationExceededIsTriggered: &lt;br/&gt; connectionTimeoutIsTriggered: &lt;br/&gt; accelerationExceededIsTriggered: &lt;br/&gt; idlingTimeoutIsTriggered: &lt;br/&gt; batteryWarningIsTriggered: &lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;">
      <mxGeometry x="-93" y="900" width="224" height="164" as="geometry" />
    </mxCell>
    <mxCell id="node1" parent="1" vertex="1" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;SecurityEvent&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt; __construct(id, isTriggered): &lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt; id: &lt;br/&gt; isTriggered: &lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;">
      <mxGeometry x="422" y="900" width="194" height="107" as="geometry" />
    </mxCell>
    <mxCell id="node6" parent="1" vertex="1" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;SecurityEventContainer&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt; __construct(timestamp, events): &lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt; events: &lt;br/&gt; timestamp: &lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;">
      <mxGeometry x="176" y="900" width="201" height="107" as="geometry" />
    </mxCell>
    <mxCell id="node3" parent="1" vertex="1" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;Settings&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt; __construct(settings): &lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt; measurementInterval: &lt;br/&gt; batteryWarning: &lt;br/&gt; rotationMax: &lt;br/&gt; idleTimeout: &lt;br/&gt; rotationMin: &lt;br/&gt; batteryEmpty: &lt;br/&gt; accelerationMin: &lt;br/&gt; connectionTimeout: &lt;br/&gt; accelerationMax: &lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;">
      <mxGeometry x="827" y="-15" width="164" height="253" as="geometry" />
    </mxCell>
    <mxCell id="node2" parent="1" vertex="1" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;SocketController&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt; __construct(): &lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt; eventList: &lt;br/&gt; subscriberList: &lt;br/&gt; dataIsObsoleteAfterNDays: &lt;br/&gt; deviceList: &lt;br/&gt; Database: &lt;br/&gt; watchdogBIsActive: &lt;br/&gt; clientList: &lt;br/&gt; watchdogAIsActive: &lt;/p&gt;&lt;hr size=&quot;1&quot;/&gt;&lt;p style=&quot;margin:0 0 0 4px;line-height:1.6;&quot;&gt; watchDogB(): &lt;br/&gt; onMessage(client, message): &lt;br/&gt; onOpen(client): &lt;br/&gt; watchDogA(): &lt;br/&gt; onClose(client): &lt;br/&gt; handleMessage(client, data): &lt;br/&gt; onError(client, e): &lt;br/&gt; serverStop(): &lt;br/&gt; handleNewTrackingData(client, data): &lt;br/&gt; handleChangeSettings(client, data): &lt;br/&gt; updateDeviceList(): &lt;br/&gt; handleCreateNewDevice(client, data): &lt;br/&gt; getDeviceIdByResourceId(resourceId): &lt;br/&gt; sendGlobalMessage(message, target): &lt;br/&gt; handleSubscription(client, data): &lt;br/&gt; handleRemoveDevice(client, data): &lt;br/&gt; handleLogin(client, data): &lt;br/&gt; removeSubscriber(resourceId): &lt;br/&gt; handleLogout(client, data): &lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=14;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;">
      <mxGeometry x="550" y="-15" width="232" height="650" as="geometry" />
    </mxCell>
  </root>
</mxGraphModel>