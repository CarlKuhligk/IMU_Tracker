<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="568px" preserveAspectRatio="none" style="width:1123px;height:568px;background:#FFFFFF;" version="1.1" viewBox="0 0 1123 568" width="1123px" zoomAndPan="magnify"><defs/><g><!--MD5=[686667cd50a9e5b025da9d158d7bf6e5]
cluster imu_tracker::services::notification_service--><g id="cluster_imu_tracker::services::notification_service"><path d="M8.5,152.5 L356.5,152.5 A3.75,3.75 0 0 1 359,155 L366,174.7969 L505.5,174.7969 A2.5,2.5 0 0 1 508,177.2969 L508,412 A2.5,2.5 0 0 1 505.5,414.5 L8.5,414.5 A2.5,2.5 0 0 1 6,412 L6,155 A2.5,2.5 0 0 1 8.5,152.5 " style="stroke:#000000;stroke-width:1.5;fill:none;"/><line style="stroke:#000000;stroke-width:1.5;fill:none;" x1="6" x2="366" y1="174.7969" y2="174.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="347" x="10" y="167.4951">imu_tracker::services::notification_service</text></g><!--MD5=[d0f53090847e8b072b34f6c00e83fba1]
cluster imu_tracker::services::websocket_handler--><g id="cluster_imu_tracker::services::websocket_handler"><path d="M534.5,6 L875.5,6 A3.75,3.75 0 0 1 878,8.5 L885,28.2969 L1113.5,28.2969 A2.5,2.5 0 0 1 1116,30.7969 L1116,558.5 A2.5,2.5 0 0 1 1113.5,561 L534.5,561 A2.5,2.5 0 0 1 532,558.5 L532,8.5 A2.5,2.5 0 0 1 534.5,6 " style="stroke:#000000;stroke-width:1.5;fill:none;"/><line style="stroke:#000000;stroke-width:1.5;fill:none;" x1="532" x2="885" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="340" x="536" y="20.9951">imu_tracker::services::websocket_handler</text></g><!--MD5=[a503ba26b308e19e7bafab6892c31fc4]
class imu_tracker::services::notification_service.dart::NotificationService--><g id="elem_imu_tracker::services::notification_service.dart::NotificationService"><rect codeLine="1" fill="#F1F1F1" height="210.9688" id="imu_tracker::services::notification_service.dart::NotificationService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="470" x="22" y="187.5"/><ellipse cx="163.75" cy="203.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M166.0938,199.1719 C165.1563,198.7344 164.5625,198.5938 163.6875,198.5938 C161.0625,198.5938 159.0625,200.6719 159.0625,203.3906 L159.0625,204.5156 C159.0625,207.0938 161.1719,208.9844 164.0625,208.9844 C165.2813,208.9844 166.4375,208.6875 167.1875,208.1406 C167.7656,207.7344 168.0938,207.2813 168.0938,206.8906 C168.0938,206.4375 167.7031,206.0469 167.2344,206.0469 C167.0156,206.0469 166.8125,206.125 166.625,206.3125 C166.1719,206.7969 166.1719,206.7969 165.9844,206.8906 C165.5625,207.1563 164.875,207.2813 164.1094,207.2813 C162.0625,207.2813 160.7656,206.1875 160.7656,204.4844 L160.7656,203.3906 C160.7656,201.6094 162.0156,200.2969 163.75,200.2969 C164.3281,200.2969 164.9375,200.4531 165.4063,200.7031 C165.8906,200.9844 166.0625,201.2031 166.1563,201.6094 C166.2188,202.0156 166.25,202.1406 166.3906,202.2656 C166.5313,202.4063 166.7656,202.5156 166.9844,202.5156 C167.25,202.5156 167.5156,202.375 167.6875,202.1563 C167.7969,202 167.8281,201.8125 167.8281,201.3906 L167.8281,199.9688 C167.8281,199.5313 167.8125,199.4063 167.7188,199.25 C167.5625,198.9844 167.2813,198.8438 166.9844,198.8438 C166.6875,198.8438 166.4844,198.9375 166.2656,199.25 L166.0938,199.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="184.25" y="208.3467">dart::NotificationService</text><line style="stroke:#181818;stroke-width:0.5;" x1="23" x2="491" y1="219.5" y2="219.5"/><ellipse cx="33" cy="230.5" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="444" x="42" y="236.4951">FlutterLocalNotificationsPlugin flutterLocalNotificationsPlugin</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="30" y="243.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="391" x="42" y="252.792">AndroidNotificationDetails _androidNotificationDetails</text><line style="stroke:#181818;stroke-width:0.5;" x1="23" x2="491" y1="260.0938" y2="260.0938"/><ellipse cx="33" cy="271.0938" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="306" x="42" y="277.0889">Future&lt;NotificationService&gt; getInstance()</text><ellipse cx="33" cy="287.3906" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="42" y="293.3857">Future&lt;void&gt; init()</text><ellipse cx="33" cy="303.6875" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="288" x="42" y="309.6826">Future&lt;void&gt; showBatteryNotification()</text><ellipse cx="33" cy="319.9844" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="298" x="42" y="325.9795">Future&lt;void&gt; cancelBatteryNotification()</text><ellipse cx="33" cy="336.2813" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="310" x="42" y="342.2764">Future&lt;void&gt; showMovementNotification()</text><ellipse cx="33" cy="352.5781" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="320" x="42" y="358.5732">Future&lt;void&gt; cancelMovementNotification()</text><ellipse cx="33" cy="368.875" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="347" x="42" y="374.8701">Future&lt;void&gt; showLostConnectionNotification()</text><ellipse cx="33" cy="385.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="357" x="42" y="391.167">Future&lt;void&gt; cancelLostConnectionNotification()</text></g><!--MD5=[6e621a755d8f127505ead76967e9115e]
class imu_tracker::services::websocket_handler.dart::WebSocketHandler--><g id="elem_imu_tracker::services::websocket_handler.dart::WebSocketHandler"><rect codeLine="14" fill="#F1F1F1" height="504.3125" id="imu_tracker::services::websocket_handler.dart::WebSocketHandler" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="551" x="548.5" y="41"/><ellipse cx="730.25" cy="57" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M732.5938,52.6719 C731.6563,52.2344 731.0625,52.0938 730.1875,52.0938 C727.5625,52.0938 725.5625,54.1719 725.5625,56.8906 L725.5625,58.0156 C725.5625,60.5938 727.6719,62.4844 730.5625,62.4844 C731.7813,62.4844 732.9375,62.1875 733.6875,61.6406 C734.2656,61.2344 734.5938,60.7813 734.5938,60.3906 C734.5938,59.9375 734.2031,59.5469 733.7344,59.5469 C733.5156,59.5469 733.3125,59.625 733.125,59.8125 C732.6719,60.2969 732.6719,60.2969 732.4844,60.3906 C732.0625,60.6563 731.375,60.7813 730.6094,60.7813 C728.5625,60.7813 727.2656,59.6875 727.2656,57.9844 L727.2656,56.8906 C727.2656,55.1094 728.5156,53.7969 730.25,53.7969 C730.8281,53.7969 731.4375,53.9531 731.9063,54.2031 C732.3906,54.4844 732.5625,54.7031 732.6563,55.1094 C732.7188,55.5156 732.75,55.6406 732.8906,55.7656 C733.0313,55.9063 733.2656,56.0156 733.4844,56.0156 C733.75,56.0156 734.0156,55.875 734.1875,55.6563 C734.2969,55.5 734.3281,55.3125 734.3281,54.8906 L734.3281,53.4688 C734.3281,53.0313 734.3125,52.9063 734.2188,52.75 C734.0625,52.4844 733.7813,52.3438 733.4844,52.3438 C733.1875,52.3438 732.9844,52.4375 732.7656,52.75 L732.5938,52.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179" x="750.75" y="61.8467">dart::WebSocketHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="549.5" x2="1098.5" y1="73" y2="73"/><ellipse cx="559.5" cy="84" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187" x="568.5" y="89.9951">bool isWebsocketRunning</text><ellipse cx="559.5" cy="100.2969" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="315" x="568.5" y="106.292">ValueNotifier&lt;bool&gt; successfullyRegistered</text><ellipse cx="559.5" cy="116.5938" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="315" x="568.5" y="122.5889">ValueNotifier&lt;bool&gt; successfullyLoggedOut</text><ellipse cx="559.5" cy="132.8906" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="242" x="568.5" y="138.8857">ValueNotifier&lt;bool&gt; logOutFailed</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="556.5" y="146.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="568.5" y="155.1826">WebSocket _channel</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="556.5" y="162.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189" x="568.5" y="171.4795">Timer? _pingIntervalTimer</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="556.5" y="178.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219" x="568.5" y="187.7764">Timer? _transmitIntervalTimer</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="556.5" y="195.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="568.5" y="204.0732">dynamic _socketData</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="556.5" y="211.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="284" x="568.5" y="220.3701">DeviceSettingsHandler _deviceSettings</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="556.5" y="227.6719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="281" x="568.5" y="236.667">InternalSensorService _internalSensors</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="556.5" y="243.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="286" x="568.5" y="252.9639">NotificationService _notificationService</text><line style="stroke:#181818;stroke-width:0.5;" x1="549.5" x2="1098.5" y1="260.2656" y2="260.2656"/><ellipse cx="559.5" cy="271.2656" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="217" x="568.5" y="277.2607">dynamic connectWebSocket()</text><ellipse cx="559.5" cy="287.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="525" x="568.5" y="293.5576">Future&lt;WebSocketTestResultReturnType&gt; testWebSocketConnection()</text><ellipse cx="559.5" cy="303.8594" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179" x="568.5" y="309.8545">void buildValueMessage()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="556.5" y="317.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="568.5" y="326.1514">dynamic _buildRegistrationMessage()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="556.5" y="333.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="260" x="568.5" y="342.4482">dynamic _buildApiKeyTestMessage()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="556.5" y="349.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="229" x="568.5" y="358.7451">dynamic _buildLogOutMessage()</text><ellipse cx="559.5" cy="369.0469" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="568.5" y="375.042">dynamic logoutDevice()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="556.5" y="382.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="568.5" y="391.3389">void _sendMessage()</text><ellipse cx="559.5" cy="401.6406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="568.5" y="407.6357">void registerAsSender()</text><ellipse cx="559.5" cy="417.9375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="345" x="568.5" y="423.9326">MessageDecoderReturnType messageDecoder()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="556.5" y="431.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="568.5" y="440.2295">dynamic _messageHandler()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="556.5" y="447.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="267" x="568.5" y="456.5264">dynamic _handleResponseMessages()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="556.5" y="463.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="384" x="568.5" y="472.8232">dynamic _isWebSocketMessageValidApiKeyMessage()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="556.5" y="480.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="253" x="568.5" y="489.1201">void _closeWebsocketConnection()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="556.5" y="496.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="236" x="568.5" y="505.417">dynamic _checkServerAvailable()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="556.5" y="512.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202" x="568.5" y="521.7139">dynamic _startPingInterval()</text><ellipse cx="559.5" cy="532.0156" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257" x="568.5" y="538.0107">dynamic startTransmissionInterval()</text></g><!--MD5=[146074028ded62551def40d7ceb54d3d]
@startuml
class "imu_tracker::services::notification_service.dart::NotificationService" {
  +FlutterLocalNotificationsPlugin flutterLocalNotificationsPlugin
  -AndroidNotificationDetails _androidNotificationDetails
  {static} +Future<NotificationService> getInstance()
  +Future<void> init()
  +Future<void> showBatteryNotification()
  +Future<void> cancelBatteryNotification()
  +Future<void> showMovementNotification()
  +Future<void> cancelMovementNotification()
  +Future<void> showLostConnectionNotification()
  +Future<void> cancelLostConnectionNotification()
}

class "imu_tracker::services::websocket_handler.dart::WebSocketHandler" {
  +bool isWebsocketRunning
  +ValueNotifier<bool> successfullyRegistered
  +ValueNotifier<bool> successfullyLoggedOut
  +ValueNotifier<bool> logOutFailed
  -WebSocket _channel
  -Timer? _pingIntervalTimer
  -Timer? _transmitIntervalTimer
  -dynamic _socketData
  -DeviceSettingsHandler _deviceSettings
  -InternalSensorService _internalSensors
  -NotificationService _notificationService
  +dynamic connectWebSocket()
  +Future<WebSocketTestResultReturnType> testWebSocketConnection()
  +void buildValueMessage()
  -dynamic _buildRegistrationMessage()
  -dynamic _buildApiKeyTestMessage()
  -dynamic _buildLogOutMessage()
  +dynamic logoutDevice()
  -void _sendMessage()
  +void registerAsSender()
  +MessageDecoderReturnType messageDecoder()
  -dynamic _messageHandler()
  -dynamic _handleResponseMessages()
  -dynamic _isWebSocketMessageValidApiKeyMessage()
  -void _closeWebsocketConnection()
  -dynamic _checkServerAvailable()
  -dynamic _startPingInterval()
  +dynamic startTransmissionInterval()
}
@enduml

PlantUML version 1.2022.4beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>